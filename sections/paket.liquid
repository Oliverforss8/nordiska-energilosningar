{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = 'section-' | append: section.type
%}

<section
  id="{{ section_id }}"
  class="{{ section_class }} layout py-[60px] md:py-[85px]"
>
  <div class="flex flex-col items-center gap-[30px] md:flex-row md:gap-[50px]">
    <div class="flex flex-col items-center gap-[30px] md:flex-row md:gap-[50px] paket-layout">

    <!-- Package Image -->
    <div class="w-full md:w-1/2">
      {% if section.settings.image != blank %}
        <div class=" flex aspect-square items-center justify-center rounded-[15px] p-[30px]">
          <img
            src="{{ section.settings.image | image_url: width: 2000 }}"
            alt="{{ section.settings.image.alt | default: section.settings.title }}"
            class="h-full w-full object-contain"
            loading="lazy"
          >
        </div>
      {% else %}
        <div class="flex aspect-square items-center justify-center rounded-[15px] bg-[#F6F6F6] p-[30px]">
          <div class="text-center text-gray-500">
            <p>Ingen bild vald</p>
          </div>
        </div>
      {% endif %}
    </div>

    <!-- Package Details -->
    <div class="w-full md:w-1/2 ">
      <!-- Title -->
      {% if section.settings.title != blank %}
        <h2 class="headline1 text-[60px]  text-[#171717]">
          {{ section.settings.title }}
        </h2>
      {% endif %}

      <!-- Price -->
      {% if section.settings.price != blank %}
        <div class="headline1 py-[50px] text-[36px] font-[500] text-[#171717]">
          {{ section.settings.price }}
        </div>
      {% endif %}

      <!-- Description -->
      {% if section.settings.description != blank %}
        <div class="body1 text-[20px] text-[#171717]/80">
          {{ section.settings.description }}
        </div>
      {% endif %}

      <!-- Buttons -->
      {% if section.blocks.size > 0 %}
        <div class="flex flex-wrap gap-[10px] pt-[50px]">
          {% for block in section.blocks %}
            {% if block.type == 'button' %}
              <a
                href="{{ block.settings.url }}"
                class="knappetikett flex flex-row items-center gap-[20px] rounded-full px-[20px] py-[17px] text-[#171717] transition-all hover:opacity-90"
                style="background: #E9A600; text-decoration: none;"
                {{ block.shopify_attributes }}
              >
                {{ block.settings.text }}
                {% if block.settings.show_arrow %}
                {% endif %}
              </a>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Paket",
  "tag": "section",
  "class": "section-paket",
  "settings": [
    {
      "type": "text",
      "id": "custom_id",
      "label": "Anpassat ID",
      "info": "Använd ett anpassat ID för denna sektion"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Paketbild"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Rubrik",
      "default": "Komplett Solcellspaket"
    },
    {
      "type": "text",
      "id": "price",
      "label": "Pris",
      "default": "Från 89 000 kr"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Beskrivning",
      "default": "<p>Ett komplett solcellssystem med batteri och AI-styrning som gör att du inte bara producerar egen el, utan också optimerar din energiförbrukning automatiskt.</p>"
    }
  ],
  "blocks": [
    {
      "type": "button",
      "name": "Knapp",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Knapptext",
          "default": "Läs mer"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Länk"
        },
        {
          "type": "checkbox",
          "id": "show_arrow",
          "label": "Visa pil",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Paket",
      "blocks": [
        {
          "type": "button",
          "settings": {
            "text": "Få offert",
            "show_arrow": true
          }
        },
        {
          "type": "button",
          "settings": {
            "text": "Läs mer",
            "show_arrow": true
          }
        }
      ]
    }
  ]
}
{% endschema %}
