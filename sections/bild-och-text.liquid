{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = "section-bild-och-text"
%}

<section
  id='{{ section_id }}'
  class='{{ section_class }} layout  py-[62px] md:py-[87px]'
>
  <div class='gap-[40px] md:gap-[50px] justify-center items-center flex flex-col {% if section.settings.image_position == 'left' %}md:flex-row-reverse{% else %}md:flex-row{% endif %}'>
    <div class='flex flex-col'>
      {% if section.settings.title != blank %}
        <div class='headline1 text-[#171717]'>{{ section.settings.title }}</div>
      {% endif %}

      {% if section.settings.text != blank %}
        <div class='text text-[#171717]/80 pt-[40px] md:pt-[50px]'>
          {{ section.settings.text }}
        </div>
      {% endif %}
    </div>

    <div class='relative w-full md:w-[2500px]  lg:shrink-0 h-[350px] md:h-[450px] lg:w-[450px]'>
      {% if section.settings.image != blank %}
        <img
          src='{{ section.settings.image | image_url: width: 450 }}'
          alt='{{ section.settings.image.alt | default: section.settings.title }}'
          class='w-full h-full object-cover rounded-[15px]'
          width='450'
          height='450'
          loading='lazy'
        >

        {% if section.settings.image_button_text != blank
          and section.settings.image_button_link != blank
        %}
          <div class='absolute bottom-[20px] left-[20px] md:bottom-[30px] md:left-[30px]'>
            <a
              href='{{ section.settings.image_button_link }}'
              class='px-[20px] flex flex-row gap-[20px] items-center rounded-[10px] py-[17px] knappetikett text-[#171717] shrink-0 inline-block'
              style='background: linear-gradient(0deg, rgba(255, 255, 255, 0.20) 0%, rgba(255, 255, 255, 0.20) 100%), #EBCF2F; text-decoration: none;'
            >
              {{ section.settings.image_button_text }}
              <svg
                xmlns='http://www.w3.org/2000/svg'
                width='22'
                height='18'
                viewBox='0 0 22 18'
                fill='none'
              >
                <path d="M1 8.99991H21L13.1739 1.17383" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 9.00009H21L13.1739 16.8262" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        {% endif %}
      {% else %}
        <div class='w-full h-full bg-gray-200 rounded-[10px] flex items-center justify-center text-gray-500'>
          Välj en bild
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Bild och text",
  "tag": "section",
  "class": "section-bild-och-text",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titel",
      "default": "Titel"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Text</p>"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Bild"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Bildposition",
      "options": [
        {
          "value": "right",
          "label": "Höger"
        },
        {
          "value": "left",
          "label": "Vänster"
        }
      ],
      "default": "right"
    },
    {
      "type": "text",
      "id": "image_button_text",
      "label": "Bild knapp text"
    },
    {
      "type": "url",
      "id": "image_button_link",
      "label": "Bild knapp länk"
    },
    {
      "type": "text",
      "id": "custom_id",
      "label": "Anpassat ID",
      "info": "Lämna tomt för att använda standard ID"
    }
  ],
  "presets": [
    {
      "name": "Bild och text"
    }
  ]
}
{% endschema %}
