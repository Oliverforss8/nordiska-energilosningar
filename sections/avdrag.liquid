{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = "section-" | append: section.type
%}

<section
  id='{{ section_id }}'
  class='{{ section_class }}'
>
  <div class='layout'>
    {% if section.settings.heading != blank %}
      <div>
        <h2 class='text-[#171717] headline1'>
          {{ section.settings.heading }}
        </h2>
      </div>
    {% endif %}

    {% if section.settings.description != blank %}
      <div>
        <div class='text text-[#171717]/80 py-[40px] md:py-[50px]'>
          {{ section.settings.description }}
        </div>
      </div>
    {% endif %}

    {% if section.blocks.size > 0 %}
      <div class='grid grid-cols-1 md:grid-cols-2 gap-[20px]'>
        {% for block in section.blocks %}
          <div
            class='bg-[#F3F1E8] items-center gap-[25px] rounded-[15px] p-[30px] flex flex-row justify-between'
            {{ block.shopify_attributes }}
          >
            {% if block.settings.text != blank %}
              <div class='headline1 text-[30px]'>{{ block.settings.text }}</div>
            {% endif %}

            {% if block.settings.image != blank %}
              <div>
                <div class='w-[200px] md:w-auto md:h-[84px] flex items-center justify-center'>
                  <img
                    src='{{ block.settings.image | image_url: width: 139 }}'
                    alt='{{ block.settings.image.alt | default: block.settings.text }}'
                    width='139'
                    height='84'
                    loading='lazy'
                    class='w-auto h-[65px] md:h-[90px] object-contain'
                  >
                </div>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

{% stylesheet %}
  .section-avdrag {
    padding-top: var(--section-padding-top, 40px);
    padding-bottom: var(--section-padding-bottom, 40px);
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Avdrag",
  "tag": "section",
  "class": "section-avdrag",
  "settings": [
    {
      "type": "text",
      "id": "custom_id",
      "label": "Anpassat ID",
      "info": "Använd ett anpassat ID för denna sektion"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Rubrik",
      "default": "Avdrag"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Beskrivning"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Övre utfyllnad",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Nedre utfyllnad",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "avdrag_item",
      "name": "Avdragspost",
      "settings": [
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "default": "Text"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Bild"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Avdrag",
      "blocks": [
        {
          "type": "avdrag_item",
          "settings": {
            "text": "Avdrag 1"
          }
        },
        {
          "type": "avdrag_item",
          "settings": {
            "text": "Avdrag 2"
          }
        }
      ]
    }
  ]
}
{% endschema %}
