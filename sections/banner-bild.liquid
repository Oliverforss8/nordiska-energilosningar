{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = 'section-banner-bild'
%}

<section
  id="{{ section_id }}"
  class="{{ section_class }} layout  py-[60px] md:py-[85px]"
>
  <div
    class="relative h-[500px] w-full overflow-hidden rounded-[10px] p-[20px] md:px-[50px] md:py-[40px]"
    {% if section.settings.media_type == 'image' and section.settings.background_image %}
      style="background-color: {{ section.settings.background_color }}; background-image: url({{ section.settings.background_image | image_url: width: 1200 }}); background-size: cover; background-position: center; background-repeat: no-repeat;"
    {% else %}
      style="background-color: {{ section.settings.background_color }};"
    {% endif %}
  >
    {% if section.settings.media_type == 'video' and section.settings.background_video != blank %}
      <!-- Background Video -->
      <video
        class="absolute inset-0 h-full w-full object-cover"
        autoplay
        muted
        loop
        playsinline
      >
        <source
          src="{{ section.settings.background_video.sources[1].url }}"
          type="video/mp4"
        >
        <source
          src="{{ section.settings.background_video.sources[0].url }}"
          type="video/webm"
        >
      </video>
    {% endif %}
    {% if section.settings.overlay_opacity > 0 %}
      <div
        class="absolute inset-0 rounded-[10px]"
        style="background-color: rgba(0, 0, 0, {{ section.settings.overlay_opacity | divided_by: 100.0 }});"
      ></div>
    {% endif %}
    <div class="relative z-10 flex h-full flex-col justify-between">
      <div>
        {% if section.settings.header_button_text != blank %}
          <a
            href="{{ section.settings.header_button_url }}"
            class="knappetikett2 z-10 inline-block rounded-[10px] bg-transparent p-[15px] text-white"
            style="border: 1px solid #fff;"
          >
            {{ section.settings.header_button_text }}
          </a>
        {% endif %}
      </div>
      <div class="flex flex-col gap-[30px] lg:w-[840px]">
        {% if section.settings.heading != blank %}
          <h2 class="headline2 text-white ">
            {{ section.settings.heading }}
          </h2>
        {% endif %}
        {% if section.settings.description != blank %}
          <p class="knappetikett text-white">
            {{ section.settings.description }}
          </p>
        {% endif %}
        <div class="flex flex-row gap-[10px]">
          {% if section.settings.primary_button_text != blank %}
            <a
              href="{{ section.settings.primary_button_url }}"
              class="knappetikett flex shrink-0 flex-row items-center gap-[20px] rounded-[10px] px-[20px] py-[17px] text-[#171717]"
              style="background: linear-gradient(0deg, rgba(255, 255, 255, 0.20) 0%, rgba(255, 255, 255, 0.20) 100%), #EBCF2F;"
            >
              {{ section.settings.primary_button_text }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="18"
                viewBox="0 0 22 18"
                fill="none"
              >
                <path d="M1 8.99991H21L13.1739 1.17383" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 9.00009H21L13.1739 16.8262" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          {% endif %}
          {% if section.settings.secondary_button_text != blank %}
            <a
              href="{{ section.settings.secondary_button_url }}"
              class="knappetikett flex shrink-0 flex-row items-center gap-[20px] rounded-[10px] bg-transparent px-[20px] py-[17px] text-white"
              style="border: 1px solid #fff;"
            >
              {{ section.settings.secondary_button_text }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="22"
                height="18"
                viewBox="0 0 22 18"
                fill="none"
              >
                <path d="M1 8.99991H21L13.1739 1.17383" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 8.9996H21L13.1739 16.8257" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Banner bild",
  "tag": "section",
  "class": "section-banner-bild",
  "settings": [
    {
      "type": "select",
      "id": "media_type",
      "label": "Bakgrundstyp",
      "options": [
        {
          "value": "image",
          "label": "Bild"
        },
        {
          "value": "video",
          "label": "Video"
        }
      ],
      "default": "image"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Bakgrundsbild"
    },
    {
      "type": "video",
      "id": "background_video",
      "label": "Bakgrundsvideo (autoplay, muted, loop)"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Bakgrundsfärg",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacitet",
      "info": "Lägg till en mörk overlay över bakgrundsbilden för bättre läsbarhet",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "default": 0
    },
    {
      "type": "text",
      "id": "header_button_text",
      "label": "Header knapp text"
    },
    {
      "type": "url",
      "id": "header_button_url",
      "label": "Header knapp länk"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Rubrik",
      "default": "Banner rubrik"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Beskrivning",
      "default": "Banner beskrivning"
    },
    {
      "type": "text",
      "id": "primary_button_text",
      "label": "Primär knapp text",
      "default": "Primär knapp"
    },
    {
      "type": "url",
      "id": "primary_button_url",
      "label": "Primär knapp länk"
    },
    {
      "type": "text",
      "id": "secondary_button_text",
      "label": "Sekundär knapp text"
    },
    {
      "type": "url",
      "id": "secondary_button_url",
      "label": "Sekundär knapp länk"
    },
    {
      "type": "text",
      "id": "custom_id",
      "label": "Anpassat ID",
      "info": "Lämna tomt för att använda standard ID"
    }
  ],
  "presets": [
    {
      "name": "Banner bild"
    }
  ]
}
{% endschema %}
