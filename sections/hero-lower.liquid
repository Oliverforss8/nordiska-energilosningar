{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = "section-banner"
%}

<section
  class='overflow-visible flex-col w-full h-full flex'
  style='min-height: 75vh;'
>
  <div class='relative flex w-full h-full' style='min-height: 75vh;'>
    {% render "image",
      image: section.settings.background_image,
      class: "w-full h-full object-cover absolute inset-0",
      loading: "lazy"
    %}

    {% if section.settings.overlay_opacity > 0 %}
      <div
        class='absolute inset-0 h-full'
        style='background: linear-gradient(0deg, rgba(0, 0, 0, {{ section.settings.overlay_opacity | divided_by: 100.0 }}) 0%, rgba(0, 0, 0, {{ section.settings.overlay_opacity | divided_by: 100.0 }}) 100%'
      ></div>
    {% endif %}

    {% if section.settings.heading != blank %}
      <div class='absolute inset-0  h-full layout'>
        <div class='h-full flex pb-[110px] md:pb-[120px] flex-col justify-end items-start'>
          <h1 class='headline1 text-white pb-[20px] md:pb-[40px]'>
            {{ section.settings.heading | newline_to_br }}
          </h1>
          <div class='flex md:flex-row flex-col md:gap-[40px] gap-[20px] md:items-center'>
            <div class='shrink-0'>
              {% if section.settings.button_url != blank %}
                <a
                  href='{{ section.settings.button_url }}'
                  class='px-[20px] flex flex-row gap-[20px] items-center rounded-[10px] py-[17px] knappetikett text-[#171717]   shrink-0'
                  style='background: linear-gradient(0deg, rgba(255, 255, 255, 0.20) 0%, rgba(255, 255, 255, 0.20) 100%), #EBCF2F;'
                >
                  {{
                    section.settings.button_text
                    | default: "Våra energilösningar"
                  }}
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='22'
                    height='18'
                    viewBox='0 0 22 18'
                    fill='none'
                  >
                    <path d="M1 8.99991H21L13.1739 1.17383" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M1 9.00009H21L13.1739 16.8262" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              {% else %}
                <button
                  class='px-[20px] flex flex-row gap-[20px] items-center rounded-[10px] py-[17px] knappetikett text-[#171717]  shrink-0'
                  style='background: linear-gradient(0deg, rgba(255, 255, 255, 0.20) 0%, rgba(255, 255, 255, 0.20) 100%), #EBCF2F;'
                >
                  {{
                    section.settings.button_text
                    | default: "Våra energilösningar"
                  }}
                  <svg
                    xmlns='http://www.w3.org/2000/svg'
                    width='22'
                    height='18'
                    viewBox='0 0 22 18'
                    fill='none'
                  >
                    <path d="M1 8.99991H21L13.1739 1.17383" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M1 9.00009H21L13.1739 16.8262" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              {% endif %}
            </div>
            <p class='body1 lg:w-[90%] w-full sm:w-[70%] text-white'>
              {{ section.settings.subheading | newline_to_br }}
            </p>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
  <div
    class='bg-white rounded-t-[25px] h-[50px] mt-[-50px]  z-10'
    style='z-index: 1 !important;'
  ></div>
</section>

{% stylesheet %}
  .section-banner .image {
    position: absolute;
    width: 100%;
    height: 75vh;
    inset: 0;
  }

  .section-banner .image > img {
    width: 100%;
    height: 75vh;
    object-fit: cover;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Hero Lower",
  "tag": "section",
  "class": "section-banner",
  "blocks": [{ "type": "@theme" }, { "type": "@app" }],
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Dark Overlay Opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "default": 20,
      "info": "Add a dark overlay on top of the background image to improve text readability"
    },
    {
      "type": "textarea",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome to our site"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Beskrivning",
      "default": "Discover amazing products and services"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Våra energilösningar"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    }
  ],
  "presets": [
    {
      "name": "Hero Lower"
    }
  ]
}
{% endschema %}
